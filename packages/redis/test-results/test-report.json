{
  "stats": {
    "suites": 2,
    "tests": 16,
    "passes": 16,
    "pending": 0,
    "failures": 0,
    "testsRegistered": 16,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false,
    "start": "2023-05-03T01:37:50.429Z",
    "end": "2023-05-03T01:37:53.844Z",
    "duration": 3415
  },
  "results": [
    {
      "uuid": "fdf45b92-5d1c-419c-8234-94bf9ca81c33",
      "title": "@tresdoce-nestjs-toolkit/redis",
      "fullFile": "",
      "file": "",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
          "title": "@tresdoce-nestjs-toolkit/redis",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "fullTitle": "RedisService > should be defined",
              "title": "RedisService > should be defined",
              "timedOut": false,
              "duration": 169,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { delay, tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\nimport { RedisModule } from '../redis/redis.module';\nimport { RedisService } from '../redis/services/redis.service';\n\ndescribe('RedisService', () => {\n  let app: INestApplication;\n  let container: testContainers;\n  let service: RedisService;\n\n  beforeAll(async () => {\n    container = await new testContainers('redis:6.2-alpine', {\n      ...TCRedisOptions,\n      command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n      containerName: `${tcName}-redis-service`,\n    });\n    await container.start();\n  });\n\n  afterAll(async () => {\n    await container.stop({ removeVolumes: true });\n  });\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        RedisModule.register({\n          name: 'test-redis-module',\n          username: encodeURIComponent('default'),\n          password: encodeURIComponent('123456'),\n          host: global.hostContainer,\n          port: parseInt('6379', 10),\n        }),\n      ],\n      providers: [RedisService],\n    }).compile();\n\n    app = module.createNestApplication();\n    service = module.get(RedisService);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await app.close();\n  });\n\n  it('should be defined', async () => {\n    await expect(app).toBeDefined();\n  }, 50000);\n\n  it('should be return echo', async () => {\n    const msg = 'hello world';\n    expect(await service.echo(msg)).toEqual(msg);\n  });\n\n  it('should be return false if key dont exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeFalsy();\n  });\n\n  it('should be return OK when set value in redis', async () => {\n    expect(await service.set('myKey', 'hello world')).toEqual('OK');\n  });\n\n  it('should be return value of key', async () => {\n    expect(await service.get('myKey')).toEqual('hello world');\n  });\n\n  it('should be return true if key exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeTruthy();\n  });\n\n  it('should be set value in redis with expiration date', async () => {\n    expect(await service.set('myKeyEx', 'hello world', 2)).toEqual('OK');\n    expect(await service.exists('myKeyEx')).toBeTruthy();\n    await delay(3000);\n    expect(await service.exists('myKeyEx')).toBeFalsy();\n  });\n\n  it('should be return true when copy key', async () => {\n    expect(await service.copy('myKey', 'copyKey')).toBeTruthy();\n  });\n\n  it('should be return false when copy key', async () => {\n    expect(await service.copy('myKey2', 'copyKey')).toBeFalsy();\n  });\n\n  it('should be rename a key', async () => {\n    expect(await service.rename('copyKey', 'newKey')).toEqual('OK');\n  });\n\n  it('should be return false when delete a key', async () => {\n    expect(await service.del('testKey')).toBeFalsy();\n  });\n\n  it('should be return true when delete a key', async () => {\n    expect(await service.del('newKey')).toBeTruthy();\n  });\n\n  it('should be flush all', async () => {\n    expect(await service.flushAll()).toEqual('OK');\n    expect(await service.get('myKey')).toBeNull();\n  });\n});\n",
              "err": {},
              "uuid": "ea29ed5b-8446-4044-88c7-1692d0a78b4f",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "RedisService > should be return echo",
              "title": "RedisService > should be return echo",
              "timedOut": false,
              "duration": 14,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { delay, tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\nimport { RedisModule } from '../redis/redis.module';\nimport { RedisService } from '../redis/services/redis.service';\n\ndescribe('RedisService', () => {\n  let app: INestApplication;\n  let container: testContainers;\n  let service: RedisService;\n\n  beforeAll(async () => {\n    container = await new testContainers('redis:6.2-alpine', {\n      ...TCRedisOptions,\n      command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n      containerName: `${tcName}-redis-service`,\n    });\n    await container.start();\n  });\n\n  afterAll(async () => {\n    await container.stop({ removeVolumes: true });\n  });\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        RedisModule.register({\n          name: 'test-redis-module',\n          username: encodeURIComponent('default'),\n          password: encodeURIComponent('123456'),\n          host: global.hostContainer,\n          port: parseInt('6379', 10),\n        }),\n      ],\n      providers: [RedisService],\n    }).compile();\n\n    app = module.createNestApplication();\n    service = module.get(RedisService);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await app.close();\n  });\n\n  it('should be defined', async () => {\n    await expect(app).toBeDefined();\n  }, 50000);\n\n  it('should be return echo', async () => {\n    const msg = 'hello world';\n    expect(await service.echo(msg)).toEqual(msg);\n  });\n\n  it('should be return false if key dont exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeFalsy();\n  });\n\n  it('should be return OK when set value in redis', async () => {\n    expect(await service.set('myKey', 'hello world')).toEqual('OK');\n  });\n\n  it('should be return value of key', async () => {\n    expect(await service.get('myKey')).toEqual('hello world');\n  });\n\n  it('should be return true if key exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeTruthy();\n  });\n\n  it('should be set value in redis with expiration date', async () => {\n    expect(await service.set('myKeyEx', 'hello world', 2)).toEqual('OK');\n    expect(await service.exists('myKeyEx')).toBeTruthy();\n    await delay(3000);\n    expect(await service.exists('myKeyEx')).toBeFalsy();\n  });\n\n  it('should be return true when copy key', async () => {\n    expect(await service.copy('myKey', 'copyKey')).toBeTruthy();\n  });\n\n  it('should be return false when copy key', async () => {\n    expect(await service.copy('myKey2', 'copyKey')).toBeFalsy();\n  });\n\n  it('should be rename a key', async () => {\n    expect(await service.rename('copyKey', 'newKey')).toEqual('OK');\n  });\n\n  it('should be return false when delete a key', async () => {\n    expect(await service.del('testKey')).toBeFalsy();\n  });\n\n  it('should be return true when delete a key', async () => {\n    expect(await service.del('newKey')).toBeTruthy();\n  });\n\n  it('should be flush all', async () => {\n    expect(await service.flushAll()).toEqual('OK');\n    expect(await service.get('myKey')).toBeNull();\n  });\n});\n",
              "err": {},
              "uuid": "56e3f2b8-9fb7-44c5-bb97-8a51f2efe70b",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "RedisService > should be return false if key dont exist in redis",
              "title": "RedisService > should be return false if key dont exist in redis",
              "timedOut": false,
              "duration": 11,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { delay, tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\nimport { RedisModule } from '../redis/redis.module';\nimport { RedisService } from '../redis/services/redis.service';\n\ndescribe('RedisService', () => {\n  let app: INestApplication;\n  let container: testContainers;\n  let service: RedisService;\n\n  beforeAll(async () => {\n    container = await new testContainers('redis:6.2-alpine', {\n      ...TCRedisOptions,\n      command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n      containerName: `${tcName}-redis-service`,\n    });\n    await container.start();\n  });\n\n  afterAll(async () => {\n    await container.stop({ removeVolumes: true });\n  });\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        RedisModule.register({\n          name: 'test-redis-module',\n          username: encodeURIComponent('default'),\n          password: encodeURIComponent('123456'),\n          host: global.hostContainer,\n          port: parseInt('6379', 10),\n        }),\n      ],\n      providers: [RedisService],\n    }).compile();\n\n    app = module.createNestApplication();\n    service = module.get(RedisService);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await app.close();\n  });\n\n  it('should be defined', async () => {\n    await expect(app).toBeDefined();\n  }, 50000);\n\n  it('should be return echo', async () => {\n    const msg = 'hello world';\n    expect(await service.echo(msg)).toEqual(msg);\n  });\n\n  it('should be return false if key dont exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeFalsy();\n  });\n\n  it('should be return OK when set value in redis', async () => {\n    expect(await service.set('myKey', 'hello world')).toEqual('OK');\n  });\n\n  it('should be return value of key', async () => {\n    expect(await service.get('myKey')).toEqual('hello world');\n  });\n\n  it('should be return true if key exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeTruthy();\n  });\n\n  it('should be set value in redis with expiration date', async () => {\n    expect(await service.set('myKeyEx', 'hello world', 2)).toEqual('OK');\n    expect(await service.exists('myKeyEx')).toBeTruthy();\n    await delay(3000);\n    expect(await service.exists('myKeyEx')).toBeFalsy();\n  });\n\n  it('should be return true when copy key', async () => {\n    expect(await service.copy('myKey', 'copyKey')).toBeTruthy();\n  });\n\n  it('should be return false when copy key', async () => {\n    expect(await service.copy('myKey2', 'copyKey')).toBeFalsy();\n  });\n\n  it('should be rename a key', async () => {\n    expect(await service.rename('copyKey', 'newKey')).toEqual('OK');\n  });\n\n  it('should be return false when delete a key', async () => {\n    expect(await service.del('testKey')).toBeFalsy();\n  });\n\n  it('should be return true when delete a key', async () => {\n    expect(await service.del('newKey')).toBeTruthy();\n  });\n\n  it('should be flush all', async () => {\n    expect(await service.flushAll()).toEqual('OK');\n    expect(await service.get('myKey')).toBeNull();\n  });\n});\n",
              "err": {},
              "uuid": "2fff762b-8dcd-4e30-b748-140ec97397b8",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "RedisService > should be return OK when set value in redis",
              "title": "RedisService > should be return OK when set value in redis",
              "timedOut": false,
              "duration": 12,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { delay, tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\nimport { RedisModule } from '../redis/redis.module';\nimport { RedisService } from '../redis/services/redis.service';\n\ndescribe('RedisService', () => {\n  let app: INestApplication;\n  let container: testContainers;\n  let service: RedisService;\n\n  beforeAll(async () => {\n    container = await new testContainers('redis:6.2-alpine', {\n      ...TCRedisOptions,\n      command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n      containerName: `${tcName}-redis-service`,\n    });\n    await container.start();\n  });\n\n  afterAll(async () => {\n    await container.stop({ removeVolumes: true });\n  });\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        RedisModule.register({\n          name: 'test-redis-module',\n          username: encodeURIComponent('default'),\n          password: encodeURIComponent('123456'),\n          host: global.hostContainer,\n          port: parseInt('6379', 10),\n        }),\n      ],\n      providers: [RedisService],\n    }).compile();\n\n    app = module.createNestApplication();\n    service = module.get(RedisService);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await app.close();\n  });\n\n  it('should be defined', async () => {\n    await expect(app).toBeDefined();\n  }, 50000);\n\n  it('should be return echo', async () => {\n    const msg = 'hello world';\n    expect(await service.echo(msg)).toEqual(msg);\n  });\n\n  it('should be return false if key dont exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeFalsy();\n  });\n\n  it('should be return OK when set value in redis', async () => {\n    expect(await service.set('myKey', 'hello world')).toEqual('OK');\n  });\n\n  it('should be return value of key', async () => {\n    expect(await service.get('myKey')).toEqual('hello world');\n  });\n\n  it('should be return true if key exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeTruthy();\n  });\n\n  it('should be set value in redis with expiration date', async () => {\n    expect(await service.set('myKeyEx', 'hello world', 2)).toEqual('OK');\n    expect(await service.exists('myKeyEx')).toBeTruthy();\n    await delay(3000);\n    expect(await service.exists('myKeyEx')).toBeFalsy();\n  });\n\n  it('should be return true when copy key', async () => {\n    expect(await service.copy('myKey', 'copyKey')).toBeTruthy();\n  });\n\n  it('should be return false when copy key', async () => {\n    expect(await service.copy('myKey2', 'copyKey')).toBeFalsy();\n  });\n\n  it('should be rename a key', async () => {\n    expect(await service.rename('copyKey', 'newKey')).toEqual('OK');\n  });\n\n  it('should be return false when delete a key', async () => {\n    expect(await service.del('testKey')).toBeFalsy();\n  });\n\n  it('should be return true when delete a key', async () => {\n    expect(await service.del('newKey')).toBeTruthy();\n  });\n\n  it('should be flush all', async () => {\n    expect(await service.flushAll()).toEqual('OK');\n    expect(await service.get('myKey')).toBeNull();\n  });\n});\n",
              "err": {},
              "uuid": "a019e91b-88fa-4f0c-9b75-fe09aefd8991",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "RedisService > should be return value of key",
              "title": "RedisService > should be return value of key",
              "timedOut": false,
              "duration": 10,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { delay, tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\nimport { RedisModule } from '../redis/redis.module';\nimport { RedisService } from '../redis/services/redis.service';\n\ndescribe('RedisService', () => {\n  let app: INestApplication;\n  let container: testContainers;\n  let service: RedisService;\n\n  beforeAll(async () => {\n    container = await new testContainers('redis:6.2-alpine', {\n      ...TCRedisOptions,\n      command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n      containerName: `${tcName}-redis-service`,\n    });\n    await container.start();\n  });\n\n  afterAll(async () => {\n    await container.stop({ removeVolumes: true });\n  });\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        RedisModule.register({\n          name: 'test-redis-module',\n          username: encodeURIComponent('default'),\n          password: encodeURIComponent('123456'),\n          host: global.hostContainer,\n          port: parseInt('6379', 10),\n        }),\n      ],\n      providers: [RedisService],\n    }).compile();\n\n    app = module.createNestApplication();\n    service = module.get(RedisService);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await app.close();\n  });\n\n  it('should be defined', async () => {\n    await expect(app).toBeDefined();\n  }, 50000);\n\n  it('should be return echo', async () => {\n    const msg = 'hello world';\n    expect(await service.echo(msg)).toEqual(msg);\n  });\n\n  it('should be return false if key dont exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeFalsy();\n  });\n\n  it('should be return OK when set value in redis', async () => {\n    expect(await service.set('myKey', 'hello world')).toEqual('OK');\n  });\n\n  it('should be return value of key', async () => {\n    expect(await service.get('myKey')).toEqual('hello world');\n  });\n\n  it('should be return true if key exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeTruthy();\n  });\n\n  it('should be set value in redis with expiration date', async () => {\n    expect(await service.set('myKeyEx', 'hello world', 2)).toEqual('OK');\n    expect(await service.exists('myKeyEx')).toBeTruthy();\n    await delay(3000);\n    expect(await service.exists('myKeyEx')).toBeFalsy();\n  });\n\n  it('should be return true when copy key', async () => {\n    expect(await service.copy('myKey', 'copyKey')).toBeTruthy();\n  });\n\n  it('should be return false when copy key', async () => {\n    expect(await service.copy('myKey2', 'copyKey')).toBeFalsy();\n  });\n\n  it('should be rename a key', async () => {\n    expect(await service.rename('copyKey', 'newKey')).toEqual('OK');\n  });\n\n  it('should be return false when delete a key', async () => {\n    expect(await service.del('testKey')).toBeFalsy();\n  });\n\n  it('should be return true when delete a key', async () => {\n    expect(await service.del('newKey')).toBeTruthy();\n  });\n\n  it('should be flush all', async () => {\n    expect(await service.flushAll()).toEqual('OK');\n    expect(await service.get('myKey')).toBeNull();\n  });\n});\n",
              "err": {},
              "uuid": "149da7c5-8b35-469d-9eb2-d62b76c88989",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "RedisService > should be return true if key exist in redis",
              "title": "RedisService > should be return true if key exist in redis",
              "timedOut": false,
              "duration": 9,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { delay, tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\nimport { RedisModule } from '../redis/redis.module';\nimport { RedisService } from '../redis/services/redis.service';\n\ndescribe('RedisService', () => {\n  let app: INestApplication;\n  let container: testContainers;\n  let service: RedisService;\n\n  beforeAll(async () => {\n    container = await new testContainers('redis:6.2-alpine', {\n      ...TCRedisOptions,\n      command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n      containerName: `${tcName}-redis-service`,\n    });\n    await container.start();\n  });\n\n  afterAll(async () => {\n    await container.stop({ removeVolumes: true });\n  });\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        RedisModule.register({\n          name: 'test-redis-module',\n          username: encodeURIComponent('default'),\n          password: encodeURIComponent('123456'),\n          host: global.hostContainer,\n          port: parseInt('6379', 10),\n        }),\n      ],\n      providers: [RedisService],\n    }).compile();\n\n    app = module.createNestApplication();\n    service = module.get(RedisService);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await app.close();\n  });\n\n  it('should be defined', async () => {\n    await expect(app).toBeDefined();\n  }, 50000);\n\n  it('should be return echo', async () => {\n    const msg = 'hello world';\n    expect(await service.echo(msg)).toEqual(msg);\n  });\n\n  it('should be return false if key dont exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeFalsy();\n  });\n\n  it('should be return OK when set value in redis', async () => {\n    expect(await service.set('myKey', 'hello world')).toEqual('OK');\n  });\n\n  it('should be return value of key', async () => {\n    expect(await service.get('myKey')).toEqual('hello world');\n  });\n\n  it('should be return true if key exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeTruthy();\n  });\n\n  it('should be set value in redis with expiration date', async () => {\n    expect(await service.set('myKeyEx', 'hello world', 2)).toEqual('OK');\n    expect(await service.exists('myKeyEx')).toBeTruthy();\n    await delay(3000);\n    expect(await service.exists('myKeyEx')).toBeFalsy();\n  });\n\n  it('should be return true when copy key', async () => {\n    expect(await service.copy('myKey', 'copyKey')).toBeTruthy();\n  });\n\n  it('should be return false when copy key', async () => {\n    expect(await service.copy('myKey2', 'copyKey')).toBeFalsy();\n  });\n\n  it('should be rename a key', async () => {\n    expect(await service.rename('copyKey', 'newKey')).toEqual('OK');\n  });\n\n  it('should be return false when delete a key', async () => {\n    expect(await service.del('testKey')).toBeFalsy();\n  });\n\n  it('should be return true when delete a key', async () => {\n    expect(await service.del('newKey')).toBeTruthy();\n  });\n\n  it('should be flush all', async () => {\n    expect(await service.flushAll()).toEqual('OK');\n    expect(await service.get('myKey')).toBeNull();\n  });\n});\n",
              "err": {},
              "uuid": "325df826-eff5-4918-a5db-2cbf63fd13b7",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "RedisService > should be set value in redis with expiration date",
              "title": "RedisService > should be set value in redis with expiration date",
              "timedOut": false,
              "duration": 3015,
              "state": "passed",
              "speed": "slow",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { delay, tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\nimport { RedisModule } from '../redis/redis.module';\nimport { RedisService } from '../redis/services/redis.service';\n\ndescribe('RedisService', () => {\n  let app: INestApplication;\n  let container: testContainers;\n  let service: RedisService;\n\n  beforeAll(async () => {\n    container = await new testContainers('redis:6.2-alpine', {\n      ...TCRedisOptions,\n      command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n      containerName: `${tcName}-redis-service`,\n    });\n    await container.start();\n  });\n\n  afterAll(async () => {\n    await container.stop({ removeVolumes: true });\n  });\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        RedisModule.register({\n          name: 'test-redis-module',\n          username: encodeURIComponent('default'),\n          password: encodeURIComponent('123456'),\n          host: global.hostContainer,\n          port: parseInt('6379', 10),\n        }),\n      ],\n      providers: [RedisService],\n    }).compile();\n\n    app = module.createNestApplication();\n    service = module.get(RedisService);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await app.close();\n  });\n\n  it('should be defined', async () => {\n    await expect(app).toBeDefined();\n  }, 50000);\n\n  it('should be return echo', async () => {\n    const msg = 'hello world';\n    expect(await service.echo(msg)).toEqual(msg);\n  });\n\n  it('should be return false if key dont exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeFalsy();\n  });\n\n  it('should be return OK when set value in redis', async () => {\n    expect(await service.set('myKey', 'hello world')).toEqual('OK');\n  });\n\n  it('should be return value of key', async () => {\n    expect(await service.get('myKey')).toEqual('hello world');\n  });\n\n  it('should be return true if key exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeTruthy();\n  });\n\n  it('should be set value in redis with expiration date', async () => {\n    expect(await service.set('myKeyEx', 'hello world', 2)).toEqual('OK');\n    expect(await service.exists('myKeyEx')).toBeTruthy();\n    await delay(3000);\n    expect(await service.exists('myKeyEx')).toBeFalsy();\n  });\n\n  it('should be return true when copy key', async () => {\n    expect(await service.copy('myKey', 'copyKey')).toBeTruthy();\n  });\n\n  it('should be return false when copy key', async () => {\n    expect(await service.copy('myKey2', 'copyKey')).toBeFalsy();\n  });\n\n  it('should be rename a key', async () => {\n    expect(await service.rename('copyKey', 'newKey')).toEqual('OK');\n  });\n\n  it('should be return false when delete a key', async () => {\n    expect(await service.del('testKey')).toBeFalsy();\n  });\n\n  it('should be return true when delete a key', async () => {\n    expect(await service.del('newKey')).toBeTruthy();\n  });\n\n  it('should be flush all', async () => {\n    expect(await service.flushAll()).toEqual('OK');\n    expect(await service.get('myKey')).toBeNull();\n  });\n});\n",
              "err": {},
              "uuid": "ee8b1bcc-99cf-4ecd-b135-40cab586184f",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "RedisService > should be return true when copy key",
              "title": "RedisService > should be return true when copy key",
              "timedOut": false,
              "duration": 12,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { delay, tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\nimport { RedisModule } from '../redis/redis.module';\nimport { RedisService } from '../redis/services/redis.service';\n\ndescribe('RedisService', () => {\n  let app: INestApplication;\n  let container: testContainers;\n  let service: RedisService;\n\n  beforeAll(async () => {\n    container = await new testContainers('redis:6.2-alpine', {\n      ...TCRedisOptions,\n      command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n      containerName: `${tcName}-redis-service`,\n    });\n    await container.start();\n  });\n\n  afterAll(async () => {\n    await container.stop({ removeVolumes: true });\n  });\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        RedisModule.register({\n          name: 'test-redis-module',\n          username: encodeURIComponent('default'),\n          password: encodeURIComponent('123456'),\n          host: global.hostContainer,\n          port: parseInt('6379', 10),\n        }),\n      ],\n      providers: [RedisService],\n    }).compile();\n\n    app = module.createNestApplication();\n    service = module.get(RedisService);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await app.close();\n  });\n\n  it('should be defined', async () => {\n    await expect(app).toBeDefined();\n  }, 50000);\n\n  it('should be return echo', async () => {\n    const msg = 'hello world';\n    expect(await service.echo(msg)).toEqual(msg);\n  });\n\n  it('should be return false if key dont exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeFalsy();\n  });\n\n  it('should be return OK when set value in redis', async () => {\n    expect(await service.set('myKey', 'hello world')).toEqual('OK');\n  });\n\n  it('should be return value of key', async () => {\n    expect(await service.get('myKey')).toEqual('hello world');\n  });\n\n  it('should be return true if key exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeTruthy();\n  });\n\n  it('should be set value in redis with expiration date', async () => {\n    expect(await service.set('myKeyEx', 'hello world', 2)).toEqual('OK');\n    expect(await service.exists('myKeyEx')).toBeTruthy();\n    await delay(3000);\n    expect(await service.exists('myKeyEx')).toBeFalsy();\n  });\n\n  it('should be return true when copy key', async () => {\n    expect(await service.copy('myKey', 'copyKey')).toBeTruthy();\n  });\n\n  it('should be return false when copy key', async () => {\n    expect(await service.copy('myKey2', 'copyKey')).toBeFalsy();\n  });\n\n  it('should be rename a key', async () => {\n    expect(await service.rename('copyKey', 'newKey')).toEqual('OK');\n  });\n\n  it('should be return false when delete a key', async () => {\n    expect(await service.del('testKey')).toBeFalsy();\n  });\n\n  it('should be return true when delete a key', async () => {\n    expect(await service.del('newKey')).toBeTruthy();\n  });\n\n  it('should be flush all', async () => {\n    expect(await service.flushAll()).toEqual('OK');\n    expect(await service.get('myKey')).toBeNull();\n  });\n});\n",
              "err": {},
              "uuid": "f5d83a73-c789-4910-99ef-7381b47dafa6",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "RedisService > should be return false when copy key",
              "title": "RedisService > should be return false when copy key",
              "timedOut": false,
              "duration": 13,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { delay, tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\nimport { RedisModule } from '../redis/redis.module';\nimport { RedisService } from '../redis/services/redis.service';\n\ndescribe('RedisService', () => {\n  let app: INestApplication;\n  let container: testContainers;\n  let service: RedisService;\n\n  beforeAll(async () => {\n    container = await new testContainers('redis:6.2-alpine', {\n      ...TCRedisOptions,\n      command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n      containerName: `${tcName}-redis-service`,\n    });\n    await container.start();\n  });\n\n  afterAll(async () => {\n    await container.stop({ removeVolumes: true });\n  });\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        RedisModule.register({\n          name: 'test-redis-module',\n          username: encodeURIComponent('default'),\n          password: encodeURIComponent('123456'),\n          host: global.hostContainer,\n          port: parseInt('6379', 10),\n        }),\n      ],\n      providers: [RedisService],\n    }).compile();\n\n    app = module.createNestApplication();\n    service = module.get(RedisService);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await app.close();\n  });\n\n  it('should be defined', async () => {\n    await expect(app).toBeDefined();\n  }, 50000);\n\n  it('should be return echo', async () => {\n    const msg = 'hello world';\n    expect(await service.echo(msg)).toEqual(msg);\n  });\n\n  it('should be return false if key dont exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeFalsy();\n  });\n\n  it('should be return OK when set value in redis', async () => {\n    expect(await service.set('myKey', 'hello world')).toEqual('OK');\n  });\n\n  it('should be return value of key', async () => {\n    expect(await service.get('myKey')).toEqual('hello world');\n  });\n\n  it('should be return true if key exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeTruthy();\n  });\n\n  it('should be set value in redis with expiration date', async () => {\n    expect(await service.set('myKeyEx', 'hello world', 2)).toEqual('OK');\n    expect(await service.exists('myKeyEx')).toBeTruthy();\n    await delay(3000);\n    expect(await service.exists('myKeyEx')).toBeFalsy();\n  });\n\n  it('should be return true when copy key', async () => {\n    expect(await service.copy('myKey', 'copyKey')).toBeTruthy();\n  });\n\n  it('should be return false when copy key', async () => {\n    expect(await service.copy('myKey2', 'copyKey')).toBeFalsy();\n  });\n\n  it('should be rename a key', async () => {\n    expect(await service.rename('copyKey', 'newKey')).toEqual('OK');\n  });\n\n  it('should be return false when delete a key', async () => {\n    expect(await service.del('testKey')).toBeFalsy();\n  });\n\n  it('should be return true when delete a key', async () => {\n    expect(await service.del('newKey')).toBeTruthy();\n  });\n\n  it('should be flush all', async () => {\n    expect(await service.flushAll()).toEqual('OK');\n    expect(await service.get('myKey')).toBeNull();\n  });\n});\n",
              "err": {},
              "uuid": "407f5fdc-e9fa-4e34-a71f-2cd10a494abe",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "RedisService > should be rename a key",
              "title": "RedisService > should be rename a key",
              "timedOut": false,
              "duration": 12,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { delay, tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\nimport { RedisModule } from '../redis/redis.module';\nimport { RedisService } from '../redis/services/redis.service';\n\ndescribe('RedisService', () => {\n  let app: INestApplication;\n  let container: testContainers;\n  let service: RedisService;\n\n  beforeAll(async () => {\n    container = await new testContainers('redis:6.2-alpine', {\n      ...TCRedisOptions,\n      command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n      containerName: `${tcName}-redis-service`,\n    });\n    await container.start();\n  });\n\n  afterAll(async () => {\n    await container.stop({ removeVolumes: true });\n  });\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        RedisModule.register({\n          name: 'test-redis-module',\n          username: encodeURIComponent('default'),\n          password: encodeURIComponent('123456'),\n          host: global.hostContainer,\n          port: parseInt('6379', 10),\n        }),\n      ],\n      providers: [RedisService],\n    }).compile();\n\n    app = module.createNestApplication();\n    service = module.get(RedisService);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await app.close();\n  });\n\n  it('should be defined', async () => {\n    await expect(app).toBeDefined();\n  }, 50000);\n\n  it('should be return echo', async () => {\n    const msg = 'hello world';\n    expect(await service.echo(msg)).toEqual(msg);\n  });\n\n  it('should be return false if key dont exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeFalsy();\n  });\n\n  it('should be return OK when set value in redis', async () => {\n    expect(await service.set('myKey', 'hello world')).toEqual('OK');\n  });\n\n  it('should be return value of key', async () => {\n    expect(await service.get('myKey')).toEqual('hello world');\n  });\n\n  it('should be return true if key exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeTruthy();\n  });\n\n  it('should be set value in redis with expiration date', async () => {\n    expect(await service.set('myKeyEx', 'hello world', 2)).toEqual('OK');\n    expect(await service.exists('myKeyEx')).toBeTruthy();\n    await delay(3000);\n    expect(await service.exists('myKeyEx')).toBeFalsy();\n  });\n\n  it('should be return true when copy key', async () => {\n    expect(await service.copy('myKey', 'copyKey')).toBeTruthy();\n  });\n\n  it('should be return false when copy key', async () => {\n    expect(await service.copy('myKey2', 'copyKey')).toBeFalsy();\n  });\n\n  it('should be rename a key', async () => {\n    expect(await service.rename('copyKey', 'newKey')).toEqual('OK');\n  });\n\n  it('should be return false when delete a key', async () => {\n    expect(await service.del('testKey')).toBeFalsy();\n  });\n\n  it('should be return true when delete a key', async () => {\n    expect(await service.del('newKey')).toBeTruthy();\n  });\n\n  it('should be flush all', async () => {\n    expect(await service.flushAll()).toEqual('OK');\n    expect(await service.get('myKey')).toBeNull();\n  });\n});\n",
              "err": {},
              "uuid": "62befc4b-c33f-4c72-b2cf-8bc4185756a5",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "RedisService > should be return false when delete a key",
              "title": "RedisService > should be return false when delete a key",
              "timedOut": false,
              "duration": 9,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { delay, tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\nimport { RedisModule } from '../redis/redis.module';\nimport { RedisService } from '../redis/services/redis.service';\n\ndescribe('RedisService', () => {\n  let app: INestApplication;\n  let container: testContainers;\n  let service: RedisService;\n\n  beforeAll(async () => {\n    container = await new testContainers('redis:6.2-alpine', {\n      ...TCRedisOptions,\n      command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n      containerName: `${tcName}-redis-service`,\n    });\n    await container.start();\n  });\n\n  afterAll(async () => {\n    await container.stop({ removeVolumes: true });\n  });\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        RedisModule.register({\n          name: 'test-redis-module',\n          username: encodeURIComponent('default'),\n          password: encodeURIComponent('123456'),\n          host: global.hostContainer,\n          port: parseInt('6379', 10),\n        }),\n      ],\n      providers: [RedisService],\n    }).compile();\n\n    app = module.createNestApplication();\n    service = module.get(RedisService);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await app.close();\n  });\n\n  it('should be defined', async () => {\n    await expect(app).toBeDefined();\n  }, 50000);\n\n  it('should be return echo', async () => {\n    const msg = 'hello world';\n    expect(await service.echo(msg)).toEqual(msg);\n  });\n\n  it('should be return false if key dont exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeFalsy();\n  });\n\n  it('should be return OK when set value in redis', async () => {\n    expect(await service.set('myKey', 'hello world')).toEqual('OK');\n  });\n\n  it('should be return value of key', async () => {\n    expect(await service.get('myKey')).toEqual('hello world');\n  });\n\n  it('should be return true if key exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeTruthy();\n  });\n\n  it('should be set value in redis with expiration date', async () => {\n    expect(await service.set('myKeyEx', 'hello world', 2)).toEqual('OK');\n    expect(await service.exists('myKeyEx')).toBeTruthy();\n    await delay(3000);\n    expect(await service.exists('myKeyEx')).toBeFalsy();\n  });\n\n  it('should be return true when copy key', async () => {\n    expect(await service.copy('myKey', 'copyKey')).toBeTruthy();\n  });\n\n  it('should be return false when copy key', async () => {\n    expect(await service.copy('myKey2', 'copyKey')).toBeFalsy();\n  });\n\n  it('should be rename a key', async () => {\n    expect(await service.rename('copyKey', 'newKey')).toEqual('OK');\n  });\n\n  it('should be return false when delete a key', async () => {\n    expect(await service.del('testKey')).toBeFalsy();\n  });\n\n  it('should be return true when delete a key', async () => {\n    expect(await service.del('newKey')).toBeTruthy();\n  });\n\n  it('should be flush all', async () => {\n    expect(await service.flushAll()).toEqual('OK');\n    expect(await service.get('myKey')).toBeNull();\n  });\n});\n",
              "err": {},
              "uuid": "25087c21-af6c-4654-8900-8d765b1fe7df",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "RedisService > should be return true when delete a key",
              "title": "RedisService > should be return true when delete a key",
              "timedOut": false,
              "duration": 8,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { delay, tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\nimport { RedisModule } from '../redis/redis.module';\nimport { RedisService } from '../redis/services/redis.service';\n\ndescribe('RedisService', () => {\n  let app: INestApplication;\n  let container: testContainers;\n  let service: RedisService;\n\n  beforeAll(async () => {\n    container = await new testContainers('redis:6.2-alpine', {\n      ...TCRedisOptions,\n      command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n      containerName: `${tcName}-redis-service`,\n    });\n    await container.start();\n  });\n\n  afterAll(async () => {\n    await container.stop({ removeVolumes: true });\n  });\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        RedisModule.register({\n          name: 'test-redis-module',\n          username: encodeURIComponent('default'),\n          password: encodeURIComponent('123456'),\n          host: global.hostContainer,\n          port: parseInt('6379', 10),\n        }),\n      ],\n      providers: [RedisService],\n    }).compile();\n\n    app = module.createNestApplication();\n    service = module.get(RedisService);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await app.close();\n  });\n\n  it('should be defined', async () => {\n    await expect(app).toBeDefined();\n  }, 50000);\n\n  it('should be return echo', async () => {\n    const msg = 'hello world';\n    expect(await service.echo(msg)).toEqual(msg);\n  });\n\n  it('should be return false if key dont exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeFalsy();\n  });\n\n  it('should be return OK when set value in redis', async () => {\n    expect(await service.set('myKey', 'hello world')).toEqual('OK');\n  });\n\n  it('should be return value of key', async () => {\n    expect(await service.get('myKey')).toEqual('hello world');\n  });\n\n  it('should be return true if key exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeTruthy();\n  });\n\n  it('should be set value in redis with expiration date', async () => {\n    expect(await service.set('myKeyEx', 'hello world', 2)).toEqual('OK');\n    expect(await service.exists('myKeyEx')).toBeTruthy();\n    await delay(3000);\n    expect(await service.exists('myKeyEx')).toBeFalsy();\n  });\n\n  it('should be return true when copy key', async () => {\n    expect(await service.copy('myKey', 'copyKey')).toBeTruthy();\n  });\n\n  it('should be return false when copy key', async () => {\n    expect(await service.copy('myKey2', 'copyKey')).toBeFalsy();\n  });\n\n  it('should be rename a key', async () => {\n    expect(await service.rename('copyKey', 'newKey')).toEqual('OK');\n  });\n\n  it('should be return false when delete a key', async () => {\n    expect(await service.del('testKey')).toBeFalsy();\n  });\n\n  it('should be return true when delete a key', async () => {\n    expect(await service.del('newKey')).toBeTruthy();\n  });\n\n  it('should be flush all', async () => {\n    expect(await service.flushAll()).toEqual('OK');\n    expect(await service.get('myKey')).toBeNull();\n  });\n});\n",
              "err": {},
              "uuid": "2d7a9d79-188a-44ab-8156-88edf824fbf5",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "RedisService > should be flush all",
              "title": "RedisService > should be flush all",
              "timedOut": false,
              "duration": 12,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { delay, tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\nimport { RedisModule } from '../redis/redis.module';\nimport { RedisService } from '../redis/services/redis.service';\n\ndescribe('RedisService', () => {\n  let app: INestApplication;\n  let container: testContainers;\n  let service: RedisService;\n\n  beforeAll(async () => {\n    container = await new testContainers('redis:6.2-alpine', {\n      ...TCRedisOptions,\n      command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n      containerName: `${tcName}-redis-service`,\n    });\n    await container.start();\n  });\n\n  afterAll(async () => {\n    await container.stop({ removeVolumes: true });\n  });\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        RedisModule.register({\n          name: 'test-redis-module',\n          username: encodeURIComponent('default'),\n          password: encodeURIComponent('123456'),\n          host: global.hostContainer,\n          port: parseInt('6379', 10),\n        }),\n      ],\n      providers: [RedisService],\n    }).compile();\n\n    app = module.createNestApplication();\n    service = module.get(RedisService);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await app.close();\n  });\n\n  it('should be defined', async () => {\n    await expect(app).toBeDefined();\n  }, 50000);\n\n  it('should be return echo', async () => {\n    const msg = 'hello world';\n    expect(await service.echo(msg)).toEqual(msg);\n  });\n\n  it('should be return false if key dont exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeFalsy();\n  });\n\n  it('should be return OK when set value in redis', async () => {\n    expect(await service.set('myKey', 'hello world')).toEqual('OK');\n  });\n\n  it('should be return value of key', async () => {\n    expect(await service.get('myKey')).toEqual('hello world');\n  });\n\n  it('should be return true if key exist in redis', async () => {\n    expect(await service.exists('myKey')).toBeTruthy();\n  });\n\n  it('should be set value in redis with expiration date', async () => {\n    expect(await service.set('myKeyEx', 'hello world', 2)).toEqual('OK');\n    expect(await service.exists('myKeyEx')).toBeTruthy();\n    await delay(3000);\n    expect(await service.exists('myKeyEx')).toBeFalsy();\n  });\n\n  it('should be return true when copy key', async () => {\n    expect(await service.copy('myKey', 'copyKey')).toBeTruthy();\n  });\n\n  it('should be return false when copy key', async () => {\n    expect(await service.copy('myKey2', 'copyKey')).toBeFalsy();\n  });\n\n  it('should be rename a key', async () => {\n    expect(await service.rename('copyKey', 'newKey')).toEqual('OK');\n  });\n\n  it('should be return false when delete a key', async () => {\n    expect(await service.del('testKey')).toBeFalsy();\n  });\n\n  it('should be return true when delete a key', async () => {\n    expect(await service.del('newKey')).toBeTruthy();\n  });\n\n  it('should be flush all', async () => {\n    expect(await service.flushAll()).toEqual('OK');\n    expect(await service.get('myKey')).toBeNull();\n  });\n});\n",
              "err": {},
              "uuid": "22e42e33-1098-4a10-af4c-097c92bfdb24",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "RedisModule > with auth > forRootAsync > should be defined",
              "title": "RedisModule > with auth > forRootAsync > should be defined",
              "timedOut": false,
              "duration": 90,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { ConfigModule } from '@nestjs/config';\nimport { tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\n\nimport { RedisModule } from '../redis/redis.module';\nimport { config } from './utils';\n\njest.setTimeout(70000);\ndescribe('RedisModule', () => {\n  describe('with auth', () => {\n    let app: INestApplication;\n    let container: testContainers;\n\n    beforeAll(async () => {\n      container = await new testContainers('redis:6.2-alpine', {\n        ...TCRedisOptions,\n        command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n        containerName: `${tcName}-redis-module-with-auth`,\n      });\n      await container.start();\n    });\n\n    afterAll(async () => {\n      await container.stop({ removeVolumes: true });\n    });\n\n    describe('forRootAsync', () => {\n      beforeEach(async () => {\n        const module: TestingModule = await Test.createTestingModule({\n          imports: [\n            ConfigModule.forRoot({\n              isGlobal: true,\n              load: [config],\n            }),\n            RedisModule,\n          ],\n        }).compile();\n\n        app = module.createNestApplication();\n        await app.init();\n      });\n\n      afterEach(async () => {\n        await app.close();\n      });\n\n      it('should be defined', async () => {\n        await expect(app).toBeDefined();\n      }, 50000);\n    });\n\n    describe('register', () => {\n      beforeEach(async () => {\n        const module: TestingModule = await Test.createTestingModule({\n          imports: [\n            RedisModule.register({\n              name: 'test-redis-module',\n              username: encodeURIComponent('default'),\n              password: encodeURIComponent('123456'),\n              host: global.hostContainer,\n              port: parseInt('6379', 10),\n            }),\n          ],\n        }).compile();\n\n        app = module.createNestApplication();\n        await app.init();\n      });\n\n      afterEach(async () => {\n        await app.close();\n      });\n\n      it('should be defined', async () => {\n        await expect(app).toBeDefined();\n      }, 50000);\n    });\n  });\n\n  describe('without auth', () => {\n    let app: INestApplication;\n    let container: testContainers;\n\n    beforeAll(async () => {\n      container = await new testContainers('redis:6.2-alpine', {\n        ...TCRedisOptions,\n        containerName: `${tcName}-redis-module-without-auth`,\n        envs: {},\n        ports: [\n          {\n            container: 6379,\n            host: 6380,\n          },\n        ],\n      });\n      await container.start();\n    });\n\n    afterAll(async () => {\n      await container.stop({ removeVolumes: true });\n    });\n\n    beforeEach(async () => {\n      const module: TestingModule = await Test.createTestingModule({\n        imports: [\n          RedisModule.register({\n            host: global.hostContainer,\n            port: parseInt('6380', 10),\n            database: 1,\n          }),\n        ],\n      }).compile();\n\n      app = module.createNestApplication();\n      await app.init();\n    });\n\n    afterEach(async () => {\n      await app.close();\n    });\n\n    it('should be defined', async () => {\n      await expect(app).toBeDefined();\n    }, 50000);\n  });\n});\n",
              "err": {},
              "uuid": "d338613c-4193-4a94-aaa0-cf72661cdc53",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "RedisModule > with auth > register > should be defined",
              "title": "RedisModule > with auth > register > should be defined",
              "timedOut": false,
              "duration": 10,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { ConfigModule } from '@nestjs/config';\nimport { tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\n\nimport { RedisModule } from '../redis/redis.module';\nimport { config } from './utils';\n\njest.setTimeout(70000);\ndescribe('RedisModule', () => {\n  describe('with auth', () => {\n    let app: INestApplication;\n    let container: testContainers;\n\n    beforeAll(async () => {\n      container = await new testContainers('redis:6.2-alpine', {\n        ...TCRedisOptions,\n        command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n        containerName: `${tcName}-redis-module-with-auth`,\n      });\n      await container.start();\n    });\n\n    afterAll(async () => {\n      await container.stop({ removeVolumes: true });\n    });\n\n    describe('forRootAsync', () => {\n      beforeEach(async () => {\n        const module: TestingModule = await Test.createTestingModule({\n          imports: [\n            ConfigModule.forRoot({\n              isGlobal: true,\n              load: [config],\n            }),\n            RedisModule,\n          ],\n        }).compile();\n\n        app = module.createNestApplication();\n        await app.init();\n      });\n\n      afterEach(async () => {\n        await app.close();\n      });\n\n      it('should be defined', async () => {\n        await expect(app).toBeDefined();\n      }, 50000);\n    });\n\n    describe('register', () => {\n      beforeEach(async () => {\n        const module: TestingModule = await Test.createTestingModule({\n          imports: [\n            RedisModule.register({\n              name: 'test-redis-module',\n              username: encodeURIComponent('default'),\n              password: encodeURIComponent('123456'),\n              host: global.hostContainer,\n              port: parseInt('6379', 10),\n            }),\n          ],\n        }).compile();\n\n        app = module.createNestApplication();\n        await app.init();\n      });\n\n      afterEach(async () => {\n        await app.close();\n      });\n\n      it('should be defined', async () => {\n        await expect(app).toBeDefined();\n      }, 50000);\n    });\n  });\n\n  describe('without auth', () => {\n    let app: INestApplication;\n    let container: testContainers;\n\n    beforeAll(async () => {\n      container = await new testContainers('redis:6.2-alpine', {\n        ...TCRedisOptions,\n        containerName: `${tcName}-redis-module-without-auth`,\n        envs: {},\n        ports: [\n          {\n            container: 6379,\n            host: 6380,\n          },\n        ],\n      });\n      await container.start();\n    });\n\n    afterAll(async () => {\n      await container.stop({ removeVolumes: true });\n    });\n\n    beforeEach(async () => {\n      const module: TestingModule = await Test.createTestingModule({\n        imports: [\n          RedisModule.register({\n            host: global.hostContainer,\n            port: parseInt('6380', 10),\n            database: 1,\n          }),\n        ],\n      }).compile();\n\n      app = module.createNestApplication();\n      await app.init();\n    });\n\n    afterEach(async () => {\n      await app.close();\n    });\n\n    it('should be defined', async () => {\n      await expect(app).toBeDefined();\n    }, 50000);\n  });\n});\n",
              "err": {},
              "uuid": "d252ae41-97ca-4819-8ad7-e4bf601a4f2b",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "RedisModule > without auth > should be defined",
              "title": "RedisModule > without auth > should be defined",
              "timedOut": false,
              "duration": 9,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { ConfigModule } from '@nestjs/config';\nimport { tcName, TCRedisOptions, testContainers } from '@tresdoce-nestjs-toolkit/test-utils';\n\nimport { RedisModule } from '../redis/redis.module';\nimport { config } from './utils';\n\njest.setTimeout(70000);\ndescribe('RedisModule', () => {\n  describe('with auth', () => {\n    let app: INestApplication;\n    let container: testContainers;\n\n    beforeAll(async () => {\n      container = await new testContainers('redis:6.2-alpine', {\n        ...TCRedisOptions,\n        command: ['redis-server', '--appendonly', 'yes', '--requirepass', '123456'],\n        containerName: `${tcName}-redis-module-with-auth`,\n      });\n      await container.start();\n    });\n\n    afterAll(async () => {\n      await container.stop({ removeVolumes: true });\n    });\n\n    describe('forRootAsync', () => {\n      beforeEach(async () => {\n        const module: TestingModule = await Test.createTestingModule({\n          imports: [\n            ConfigModule.forRoot({\n              isGlobal: true,\n              load: [config],\n            }),\n            RedisModule,\n          ],\n        }).compile();\n\n        app = module.createNestApplication();\n        await app.init();\n      });\n\n      afterEach(async () => {\n        await app.close();\n      });\n\n      it('should be defined', async () => {\n        await expect(app).toBeDefined();\n      }, 50000);\n    });\n\n    describe('register', () => {\n      beforeEach(async () => {\n        const module: TestingModule = await Test.createTestingModule({\n          imports: [\n            RedisModule.register({\n              name: 'test-redis-module',\n              username: encodeURIComponent('default'),\n              password: encodeURIComponent('123456'),\n              host: global.hostContainer,\n              port: parseInt('6379', 10),\n            }),\n          ],\n        }).compile();\n\n        app = module.createNestApplication();\n        await app.init();\n      });\n\n      afterEach(async () => {\n        await app.close();\n      });\n\n      it('should be defined', async () => {\n        await expect(app).toBeDefined();\n      }, 50000);\n    });\n  });\n\n  describe('without auth', () => {\n    let app: INestApplication;\n    let container: testContainers;\n\n    beforeAll(async () => {\n      container = await new testContainers('redis:6.2-alpine', {\n        ...TCRedisOptions,\n        containerName: `${tcName}-redis-module-without-auth`,\n        envs: {},\n        ports: [\n          {\n            container: 6379,\n            host: 6380,\n          },\n        ],\n      });\n      await container.start();\n    });\n\n    afterAll(async () => {\n      await container.stop({ removeVolumes: true });\n    });\n\n    beforeEach(async () => {\n      const module: TestingModule = await Test.createTestingModule({\n        imports: [\n          RedisModule.register({\n            host: global.hostContainer,\n            port: parseInt('6380', 10),\n            database: 1,\n          }),\n        ],\n      }).compile();\n\n      app = module.createNestApplication();\n      await app.init();\n    });\n\n    afterEach(async () => {\n      await app.close();\n    });\n\n    it('should be defined', async () => {\n      await expect(app).toBeDefined();\n    }, 50000);\n  });\n});\n",
              "err": {},
              "uuid": "a8e0bc4c-78f0-4a72-8608-c3e45c02b409",
              "parentUUID": "0fbe15d7-001a-4d8f-baee-2651d2c46efa",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "ea29ed5b-8446-4044-88c7-1692d0a78b4f",
            "56e3f2b8-9fb7-44c5-bb97-8a51f2efe70b",
            "2fff762b-8dcd-4e30-b748-140ec97397b8",
            "a019e91b-88fa-4f0c-9b75-fe09aefd8991",
            "149da7c5-8b35-469d-9eb2-d62b76c88989",
            "325df826-eff5-4918-a5db-2cbf63fd13b7",
            "ee8b1bcc-99cf-4ecd-b135-40cab586184f",
            "f5d83a73-c789-4910-99ef-7381b47dafa6",
            "407f5fdc-e9fa-4e34-a71f-2cd10a494abe",
            "62befc4b-c33f-4c72-b2cf-8bc4185756a5",
            "25087c21-af6c-4654-8900-8d765b1fe7df",
            "2d7a9d79-188a-44ab-8156-88edf824fbf5",
            "22e42e33-1098-4a10-af4c-097c92bfdb24",
            "d338613c-4193-4a94-aaa0-cf72661cdc53",
            "d252ae41-97ca-4819-8ad7-e4bf601a4f2b",
            "a8e0bc4c-78f0-4a72-8608-c3e45c02b409"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 3415,
          "root": false,
          "rootEmpty": false,
          "_timeout": 5000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 5000
    }
  ]
}
