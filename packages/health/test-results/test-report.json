{
  "stats": {
    "suites": 4,
    "tests": 10,
    "passes": 10,
    "pending": 0,
    "failures": 0,
    "testsRegistered": 10,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false,
    "start": "2023-05-03T01:38:04.901Z",
    "end": "2023-05-03T01:38:06.320Z",
    "duration": 1419
  },
  "results": [
    {
      "uuid": "a65f828a-af7d-44b6-835c-f467dcf8b730",
      "title": "@tresdoce-nestjs-toolkit/health",
      "fullFile": "",
      "file": "",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "257a1f9f-c9a2-4b8f-909a-8b75e35995f8",
          "title": "@tresdoce-nestjs-toolkit/health",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "fullTitle": "Health > Ready controller - extend config > should be defined with extend config",
              "title": "Health > Ready controller - extend config > should be defined with extend config",
              "timedOut": false,
              "duration": 681,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { Test, TestingModule } from '@nestjs/testing';\nimport { HttpModule } from '@nestjs/axios';\nimport {\n  HealthCheckService,\n  HttpHealthIndicator,\n  TerminusModule,\n  TypeOrmHealthIndicator,\n  MicroserviceHealthIndicator,\n} from '@nestjs/terminus';\n\nimport { ReadinessController } from '../health/controllers/readiness.controller';\nimport { CONFIG_OPTIONS } from '../health/constants';\n\nconst mockedConfig = {\n  services: {\n    myService: {\n      url: 'http://localhost:8082',\n      timeout: 3000,\n    },\n    demoApi: {\n      url: 'https://nestjs-starter.up.railway.app',\n      timeout: 3000,\n      healthPath: '/v1/health/liveness',\n    },\n  },\n  database: {\n    typeorm: {\n      type: 'postgres',\n    },\n  },\n  redis: {\n    host: 'localhost',\n    port: 6379,\n  },\n  elasticsearch: {\n    name: 'test-app',\n    node: 'http://localhost:9200',\n  },\n  camunda: {\n    baseUrl: 'http://localhost:8080/engine-rest',\n  },\n};\n\nconst mockExpectReadiness = {\n  status: 'ok',\n  info: {\n    myService: {\n      status: 'up',\n    },\n    typeOrm: {\n      status: 'up',\n    },\n    redis: {\n      status: 'up',\n    },\n    elasticsearch: {\n      status: 'up',\n    },\n    camunda: {\n      status: 'up',\n    },\n  },\n  error: {},\n  details: {\n    myService: {\n      status: 'up',\n    },\n    typeOrm: {\n      status: 'up',\n    },\n    redis: {\n      status: 'up',\n    },\n    elasticsearch: {\n      status: 'up',\n    },\n    camunda: {\n      status: 'up',\n    },\n  },\n};\n\nconst mockExpectReadinessDown = {\n  myService: {\n    status: 'down',\n    message: 'connect ECONNREFUSED 127.0.0.1:8082',\n  },\n};\n\nconst simpleConfig = {\n  services: {\n    myService: { url: 'http://localhost:8082' },\n  },\n};\n\ndescribe('Health', () => {\n  describe('Ready controller - extend config', () => {\n    let controller: ReadinessController;\n    let health: HealthCheckService;\n    let http: HttpHealthIndicator;\n    let typeOrm: TypeOrmHealthIndicator;\n    let redis: MicroserviceHealthIndicator;\n\n    beforeEach(async () => {\n      const module: TestingModule = await Test.createTestingModule({\n        imports: [TerminusModule, HttpModule],\n        controllers: [ReadinessController],\n        providers: [\n          {\n            provide: CONFIG_OPTIONS,\n            useValue: mockedConfig,\n          },\n        ],\n      }).compile();\n\n      controller = module.get<ReadinessController>(ReadinessController);\n      health = await module.resolve<HealthCheckService>(HealthCheckService);\n      http = await module.resolve<HttpHealthIndicator>(HttpHealthIndicator as any);\n      typeOrm = await module.resolve<TypeOrmHealthIndicator>(TypeOrmHealthIndicator);\n      redis = await module.resolve<MicroserviceHealthIndicator>(MicroserviceHealthIndicator);\n    });\n\n    it('should be defined with extend config', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should be return up services with extend config', async () => {\n      http.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      typeOrm.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      redis.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      health.check = jest.fn().mockImplementation(() => mockExpectReadiness);\n\n      const readinessData = await controller.check();\n      expect(readinessData).toEqual(mockExpectReadiness);\n    });\n  });\n\n  describe('Ready controller - simple config', () => {\n    let controller: ReadinessController;\n    let health: HealthCheckService;\n    let http: HttpHealthIndicator;\n    let typeOrm: TypeOrmHealthIndicator;\n    let redis: MicroserviceHealthIndicator;\n\n    beforeEach(async () => {\n      const module: TestingModule = await Test.createTestingModule({\n        imports: [TerminusModule, HttpModule],\n        controllers: [ReadinessController],\n        providers: [\n          {\n            provide: CONFIG_OPTIONS,\n            useValue: simpleConfig,\n          },\n        ],\n      }).compile();\n\n      controller = module.get<ReadinessController>(ReadinessController);\n      health = await module.resolve<HealthCheckService>(HealthCheckService);\n      http = await module.resolve<HttpHealthIndicator>(HttpHealthIndicator as any);\n      typeOrm = await module.resolve<TypeOrmHealthIndicator>(TypeOrmHealthIndicator);\n      redis = await module.resolve<MicroserviceHealthIndicator>(MicroserviceHealthIndicator);\n    });\n\n    it('should be defined with simple config', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should be return up services with simple config', async () => {\n      http.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      typeOrm.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      redis.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      health.check = jest.fn().mockImplementation(() => mockExpectReadiness);\n\n      const readinessData = await controller.check();\n      expect(readinessData).toEqual(mockExpectReadiness);\n    });\n  });\n});\n",
              "err": {},
              "uuid": "50eb514f-ed22-4c21-ac08-55410a60e675",
              "parentUUID": "257a1f9f-c9a2-4b8f-909a-8b75e35995f8",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "Health > Ready controller - extend config > should be return up services with extend config",
              "title": "Health > Ready controller - extend config > should be return up services with extend config",
              "timedOut": false,
              "duration": 6,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { Test, TestingModule } from '@nestjs/testing';\nimport { HttpModule } from '@nestjs/axios';\nimport {\n  HealthCheckService,\n  HttpHealthIndicator,\n  TerminusModule,\n  TypeOrmHealthIndicator,\n  MicroserviceHealthIndicator,\n} from '@nestjs/terminus';\n\nimport { ReadinessController } from '../health/controllers/readiness.controller';\nimport { CONFIG_OPTIONS } from '../health/constants';\n\nconst mockedConfig = {\n  services: {\n    myService: {\n      url: 'http://localhost:8082',\n      timeout: 3000,\n    },\n    demoApi: {\n      url: 'https://nestjs-starter.up.railway.app',\n      timeout: 3000,\n      healthPath: '/v1/health/liveness',\n    },\n  },\n  database: {\n    typeorm: {\n      type: 'postgres',\n    },\n  },\n  redis: {\n    host: 'localhost',\n    port: 6379,\n  },\n  elasticsearch: {\n    name: 'test-app',\n    node: 'http://localhost:9200',\n  },\n  camunda: {\n    baseUrl: 'http://localhost:8080/engine-rest',\n  },\n};\n\nconst mockExpectReadiness = {\n  status: 'ok',\n  info: {\n    myService: {\n      status: 'up',\n    },\n    typeOrm: {\n      status: 'up',\n    },\n    redis: {\n      status: 'up',\n    },\n    elasticsearch: {\n      status: 'up',\n    },\n    camunda: {\n      status: 'up',\n    },\n  },\n  error: {},\n  details: {\n    myService: {\n      status: 'up',\n    },\n    typeOrm: {\n      status: 'up',\n    },\n    redis: {\n      status: 'up',\n    },\n    elasticsearch: {\n      status: 'up',\n    },\n    camunda: {\n      status: 'up',\n    },\n  },\n};\n\nconst mockExpectReadinessDown = {\n  myService: {\n    status: 'down',\n    message: 'connect ECONNREFUSED 127.0.0.1:8082',\n  },\n};\n\nconst simpleConfig = {\n  services: {\n    myService: { url: 'http://localhost:8082' },\n  },\n};\n\ndescribe('Health', () => {\n  describe('Ready controller - extend config', () => {\n    let controller: ReadinessController;\n    let health: HealthCheckService;\n    let http: HttpHealthIndicator;\n    let typeOrm: TypeOrmHealthIndicator;\n    let redis: MicroserviceHealthIndicator;\n\n    beforeEach(async () => {\n      const module: TestingModule = await Test.createTestingModule({\n        imports: [TerminusModule, HttpModule],\n        controllers: [ReadinessController],\n        providers: [\n          {\n            provide: CONFIG_OPTIONS,\n            useValue: mockedConfig,\n          },\n        ],\n      }).compile();\n\n      controller = module.get<ReadinessController>(ReadinessController);\n      health = await module.resolve<HealthCheckService>(HealthCheckService);\n      http = await module.resolve<HttpHealthIndicator>(HttpHealthIndicator as any);\n      typeOrm = await module.resolve<TypeOrmHealthIndicator>(TypeOrmHealthIndicator);\n      redis = await module.resolve<MicroserviceHealthIndicator>(MicroserviceHealthIndicator);\n    });\n\n    it('should be defined with extend config', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should be return up services with extend config', async () => {\n      http.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      typeOrm.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      redis.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      health.check = jest.fn().mockImplementation(() => mockExpectReadiness);\n\n      const readinessData = await controller.check();\n      expect(readinessData).toEqual(mockExpectReadiness);\n    });\n  });\n\n  describe('Ready controller - simple config', () => {\n    let controller: ReadinessController;\n    let health: HealthCheckService;\n    let http: HttpHealthIndicator;\n    let typeOrm: TypeOrmHealthIndicator;\n    let redis: MicroserviceHealthIndicator;\n\n    beforeEach(async () => {\n      const module: TestingModule = await Test.createTestingModule({\n        imports: [TerminusModule, HttpModule],\n        controllers: [ReadinessController],\n        providers: [\n          {\n            provide: CONFIG_OPTIONS,\n            useValue: simpleConfig,\n          },\n        ],\n      }).compile();\n\n      controller = module.get<ReadinessController>(ReadinessController);\n      health = await module.resolve<HealthCheckService>(HealthCheckService);\n      http = await module.resolve<HttpHealthIndicator>(HttpHealthIndicator as any);\n      typeOrm = await module.resolve<TypeOrmHealthIndicator>(TypeOrmHealthIndicator);\n      redis = await module.resolve<MicroserviceHealthIndicator>(MicroserviceHealthIndicator);\n    });\n\n    it('should be defined with simple config', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should be return up services with simple config', async () => {\n      http.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      typeOrm.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      redis.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      health.check = jest.fn().mockImplementation(() => mockExpectReadiness);\n\n      const readinessData = await controller.check();\n      expect(readinessData).toEqual(mockExpectReadiness);\n    });\n  });\n});\n",
              "err": {},
              "uuid": "07a8c4d7-c9d9-4ce1-8922-7e38d0abb02b",
              "parentUUID": "257a1f9f-c9a2-4b8f-909a-8b75e35995f8",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "Health > Ready controller - simple config > should be defined with simple config",
              "title": "Health > Ready controller - simple config > should be defined with simple config",
              "timedOut": false,
              "duration": 4,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { Test, TestingModule } from '@nestjs/testing';\nimport { HttpModule } from '@nestjs/axios';\nimport {\n  HealthCheckService,\n  HttpHealthIndicator,\n  TerminusModule,\n  TypeOrmHealthIndicator,\n  MicroserviceHealthIndicator,\n} from '@nestjs/terminus';\n\nimport { ReadinessController } from '../health/controllers/readiness.controller';\nimport { CONFIG_OPTIONS } from '../health/constants';\n\nconst mockedConfig = {\n  services: {\n    myService: {\n      url: 'http://localhost:8082',\n      timeout: 3000,\n    },\n    demoApi: {\n      url: 'https://nestjs-starter.up.railway.app',\n      timeout: 3000,\n      healthPath: '/v1/health/liveness',\n    },\n  },\n  database: {\n    typeorm: {\n      type: 'postgres',\n    },\n  },\n  redis: {\n    host: 'localhost',\n    port: 6379,\n  },\n  elasticsearch: {\n    name: 'test-app',\n    node: 'http://localhost:9200',\n  },\n  camunda: {\n    baseUrl: 'http://localhost:8080/engine-rest',\n  },\n};\n\nconst mockExpectReadiness = {\n  status: 'ok',\n  info: {\n    myService: {\n      status: 'up',\n    },\n    typeOrm: {\n      status: 'up',\n    },\n    redis: {\n      status: 'up',\n    },\n    elasticsearch: {\n      status: 'up',\n    },\n    camunda: {\n      status: 'up',\n    },\n  },\n  error: {},\n  details: {\n    myService: {\n      status: 'up',\n    },\n    typeOrm: {\n      status: 'up',\n    },\n    redis: {\n      status: 'up',\n    },\n    elasticsearch: {\n      status: 'up',\n    },\n    camunda: {\n      status: 'up',\n    },\n  },\n};\n\nconst mockExpectReadinessDown = {\n  myService: {\n    status: 'down',\n    message: 'connect ECONNREFUSED 127.0.0.1:8082',\n  },\n};\n\nconst simpleConfig = {\n  services: {\n    myService: { url: 'http://localhost:8082' },\n  },\n};\n\ndescribe('Health', () => {\n  describe('Ready controller - extend config', () => {\n    let controller: ReadinessController;\n    let health: HealthCheckService;\n    let http: HttpHealthIndicator;\n    let typeOrm: TypeOrmHealthIndicator;\n    let redis: MicroserviceHealthIndicator;\n\n    beforeEach(async () => {\n      const module: TestingModule = await Test.createTestingModule({\n        imports: [TerminusModule, HttpModule],\n        controllers: [ReadinessController],\n        providers: [\n          {\n            provide: CONFIG_OPTIONS,\n            useValue: mockedConfig,\n          },\n        ],\n      }).compile();\n\n      controller = module.get<ReadinessController>(ReadinessController);\n      health = await module.resolve<HealthCheckService>(HealthCheckService);\n      http = await module.resolve<HttpHealthIndicator>(HttpHealthIndicator as any);\n      typeOrm = await module.resolve<TypeOrmHealthIndicator>(TypeOrmHealthIndicator);\n      redis = await module.resolve<MicroserviceHealthIndicator>(MicroserviceHealthIndicator);\n    });\n\n    it('should be defined with extend config', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should be return up services with extend config', async () => {\n      http.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      typeOrm.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      redis.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      health.check = jest.fn().mockImplementation(() => mockExpectReadiness);\n\n      const readinessData = await controller.check();\n      expect(readinessData).toEqual(mockExpectReadiness);\n    });\n  });\n\n  describe('Ready controller - simple config', () => {\n    let controller: ReadinessController;\n    let health: HealthCheckService;\n    let http: HttpHealthIndicator;\n    let typeOrm: TypeOrmHealthIndicator;\n    let redis: MicroserviceHealthIndicator;\n\n    beforeEach(async () => {\n      const module: TestingModule = await Test.createTestingModule({\n        imports: [TerminusModule, HttpModule],\n        controllers: [ReadinessController],\n        providers: [\n          {\n            provide: CONFIG_OPTIONS,\n            useValue: simpleConfig,\n          },\n        ],\n      }).compile();\n\n      controller = module.get<ReadinessController>(ReadinessController);\n      health = await module.resolve<HealthCheckService>(HealthCheckService);\n      http = await module.resolve<HttpHealthIndicator>(HttpHealthIndicator as any);\n      typeOrm = await module.resolve<TypeOrmHealthIndicator>(TypeOrmHealthIndicator);\n      redis = await module.resolve<MicroserviceHealthIndicator>(MicroserviceHealthIndicator);\n    });\n\n    it('should be defined with simple config', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should be return up services with simple config', async () => {\n      http.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      typeOrm.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      redis.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      health.check = jest.fn().mockImplementation(() => mockExpectReadiness);\n\n      const readinessData = await controller.check();\n      expect(readinessData).toEqual(mockExpectReadiness);\n    });\n  });\n});\n",
              "err": {},
              "uuid": "601729e5-bd1b-45f9-96f2-1f233b74ff85",
              "parentUUID": "257a1f9f-c9a2-4b8f-909a-8b75e35995f8",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "Health > Ready controller - simple config > should be return up services with simple config",
              "title": "Health > Ready controller - simple config > should be return up services with simple config",
              "timedOut": false,
              "duration": 4,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { Test, TestingModule } from '@nestjs/testing';\nimport { HttpModule } from '@nestjs/axios';\nimport {\n  HealthCheckService,\n  HttpHealthIndicator,\n  TerminusModule,\n  TypeOrmHealthIndicator,\n  MicroserviceHealthIndicator,\n} from '@nestjs/terminus';\n\nimport { ReadinessController } from '../health/controllers/readiness.controller';\nimport { CONFIG_OPTIONS } from '../health/constants';\n\nconst mockedConfig = {\n  services: {\n    myService: {\n      url: 'http://localhost:8082',\n      timeout: 3000,\n    },\n    demoApi: {\n      url: 'https://nestjs-starter.up.railway.app',\n      timeout: 3000,\n      healthPath: '/v1/health/liveness',\n    },\n  },\n  database: {\n    typeorm: {\n      type: 'postgres',\n    },\n  },\n  redis: {\n    host: 'localhost',\n    port: 6379,\n  },\n  elasticsearch: {\n    name: 'test-app',\n    node: 'http://localhost:9200',\n  },\n  camunda: {\n    baseUrl: 'http://localhost:8080/engine-rest',\n  },\n};\n\nconst mockExpectReadiness = {\n  status: 'ok',\n  info: {\n    myService: {\n      status: 'up',\n    },\n    typeOrm: {\n      status: 'up',\n    },\n    redis: {\n      status: 'up',\n    },\n    elasticsearch: {\n      status: 'up',\n    },\n    camunda: {\n      status: 'up',\n    },\n  },\n  error: {},\n  details: {\n    myService: {\n      status: 'up',\n    },\n    typeOrm: {\n      status: 'up',\n    },\n    redis: {\n      status: 'up',\n    },\n    elasticsearch: {\n      status: 'up',\n    },\n    camunda: {\n      status: 'up',\n    },\n  },\n};\n\nconst mockExpectReadinessDown = {\n  myService: {\n    status: 'down',\n    message: 'connect ECONNREFUSED 127.0.0.1:8082',\n  },\n};\n\nconst simpleConfig = {\n  services: {\n    myService: { url: 'http://localhost:8082' },\n  },\n};\n\ndescribe('Health', () => {\n  describe('Ready controller - extend config', () => {\n    let controller: ReadinessController;\n    let health: HealthCheckService;\n    let http: HttpHealthIndicator;\n    let typeOrm: TypeOrmHealthIndicator;\n    let redis: MicroserviceHealthIndicator;\n\n    beforeEach(async () => {\n      const module: TestingModule = await Test.createTestingModule({\n        imports: [TerminusModule, HttpModule],\n        controllers: [ReadinessController],\n        providers: [\n          {\n            provide: CONFIG_OPTIONS,\n            useValue: mockedConfig,\n          },\n        ],\n      }).compile();\n\n      controller = module.get<ReadinessController>(ReadinessController);\n      health = await module.resolve<HealthCheckService>(HealthCheckService);\n      http = await module.resolve<HttpHealthIndicator>(HttpHealthIndicator as any);\n      typeOrm = await module.resolve<TypeOrmHealthIndicator>(TypeOrmHealthIndicator);\n      redis = await module.resolve<MicroserviceHealthIndicator>(MicroserviceHealthIndicator);\n    });\n\n    it('should be defined with extend config', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should be return up services with extend config', async () => {\n      http.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      typeOrm.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      redis.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      health.check = jest.fn().mockImplementation(() => mockExpectReadiness);\n\n      const readinessData = await controller.check();\n      expect(readinessData).toEqual(mockExpectReadiness);\n    });\n  });\n\n  describe('Ready controller - simple config', () => {\n    let controller: ReadinessController;\n    let health: HealthCheckService;\n    let http: HttpHealthIndicator;\n    let typeOrm: TypeOrmHealthIndicator;\n    let redis: MicroserviceHealthIndicator;\n\n    beforeEach(async () => {\n      const module: TestingModule = await Test.createTestingModule({\n        imports: [TerminusModule, HttpModule],\n        controllers: [ReadinessController],\n        providers: [\n          {\n            provide: CONFIG_OPTIONS,\n            useValue: simpleConfig,\n          },\n        ],\n      }).compile();\n\n      controller = module.get<ReadinessController>(ReadinessController);\n      health = await module.resolve<HealthCheckService>(HealthCheckService);\n      http = await module.resolve<HttpHealthIndicator>(HttpHealthIndicator as any);\n      typeOrm = await module.resolve<TypeOrmHealthIndicator>(TypeOrmHealthIndicator);\n      redis = await module.resolve<MicroserviceHealthIndicator>(MicroserviceHealthIndicator);\n    });\n\n    it('should be defined with simple config', () => {\n      expect(controller).toBeDefined();\n    });\n\n    it('should be return up services with simple config', async () => {\n      http.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      typeOrm.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      redis.pingCheck = jest.fn().mockImplementation(() => mockExpectReadiness.info);\n      health.check = jest.fn().mockImplementation(() => mockExpectReadiness);\n\n      const readinessData = await controller.check();\n      expect(readinessData).toEqual(mockExpectReadiness);\n    });\n  });\n});\n",
              "err": {},
              "uuid": "368d7c8f-ea9b-4ba6-984c-063696aa6f94",
              "parentUUID": "257a1f9f-c9a2-4b8f-909a-8b75e35995f8",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "HealthModule > should be define",
              "title": "HealthModule > should be define",
              "timedOut": false,
              "duration": 376,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { ConfigModule } from '@nestjs/config';\nimport { config } from '@tresdoce-nestjs-toolkit/test-utils';\n\nimport { HealthModule } from '../health/health.module';\nimport { LivenessController } from '../health/controllers/liveness.controller';\nimport { ReadinessController } from '../health/controllers/readiness.controller';\n\ndescribe('HealthModule', () => {\n  let app: INestApplication;\n  let livenessController: LivenessController;\n  let readinessController: ReadinessController;\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        ConfigModule.forRoot({\n          isGlobal: true,\n          load: [config],\n        }),\n        HealthModule,\n      ],\n    }).compile();\n\n    app = module.createNestApplication();\n    livenessController = module.get<LivenessController>(LivenessController);\n    readinessController = module.get<ReadinessController>(ReadinessController);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await Promise.all([app.close()]);\n  });\n\n  it('should be define', async () => {\n    expect(app).toBeDefined();\n  });\n\n  it('should be return status up', async () => {\n    expect(livenessController.getLiveness()).toEqual({ status: 'up' });\n  });\n\n  it('should be return readiness services', async () => {\n    const result = await readinessController.check();\n    expect(result).toHaveProperty('details');\n    expect(result).toHaveProperty('error');\n    expect(result).toHaveProperty('info');\n    expect(result).toHaveProperty('status');\n  });\n});\n",
              "err": {},
              "uuid": "447e6a14-7760-451c-b6fa-8262f74e01d8",
              "parentUUID": "257a1f9f-c9a2-4b8f-909a-8b75e35995f8",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "HealthModule > should be return status up",
              "title": "HealthModule > should be return status up",
              "timedOut": false,
              "duration": 11,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { ConfigModule } from '@nestjs/config';\nimport { config } from '@tresdoce-nestjs-toolkit/test-utils';\n\nimport { HealthModule } from '../health/health.module';\nimport { LivenessController } from '../health/controllers/liveness.controller';\nimport { ReadinessController } from '../health/controllers/readiness.controller';\n\ndescribe('HealthModule', () => {\n  let app: INestApplication;\n  let livenessController: LivenessController;\n  let readinessController: ReadinessController;\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        ConfigModule.forRoot({\n          isGlobal: true,\n          load: [config],\n        }),\n        HealthModule,\n      ],\n    }).compile();\n\n    app = module.createNestApplication();\n    livenessController = module.get<LivenessController>(LivenessController);\n    readinessController = module.get<ReadinessController>(ReadinessController);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await Promise.all([app.close()]);\n  });\n\n  it('should be define', async () => {\n    expect(app).toBeDefined();\n  });\n\n  it('should be return status up', async () => {\n    expect(livenessController.getLiveness()).toEqual({ status: 'up' });\n  });\n\n  it('should be return readiness services', async () => {\n    const result = await readinessController.check();\n    expect(result).toHaveProperty('details');\n    expect(result).toHaveProperty('error');\n    expect(result).toHaveProperty('info');\n    expect(result).toHaveProperty('status');\n  });\n});\n",
              "err": {},
              "uuid": "e93e51a9-9a52-4f42-bf6a-3319ed0a0f6b",
              "parentUUID": "257a1f9f-c9a2-4b8f-909a-8b75e35995f8",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "HealthModule > should be return readiness services",
              "title": "HealthModule > should be return readiness services",
              "timedOut": false,
              "duration": 321,
              "state": "passed",
              "speed": "medium",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { INestApplication } from '@nestjs/common';\nimport { Test, TestingModule } from '@nestjs/testing';\nimport { ConfigModule } from '@nestjs/config';\nimport { config } from '@tresdoce-nestjs-toolkit/test-utils';\n\nimport { HealthModule } from '../health/health.module';\nimport { LivenessController } from '../health/controllers/liveness.controller';\nimport { ReadinessController } from '../health/controllers/readiness.controller';\n\ndescribe('HealthModule', () => {\n  let app: INestApplication;\n  let livenessController: LivenessController;\n  let readinessController: ReadinessController;\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      imports: [\n        ConfigModule.forRoot({\n          isGlobal: true,\n          load: [config],\n        }),\n        HealthModule,\n      ],\n    }).compile();\n\n    app = module.createNestApplication();\n    livenessController = module.get<LivenessController>(LivenessController);\n    readinessController = module.get<ReadinessController>(ReadinessController);\n    await app.init();\n  });\n\n  afterEach(async () => {\n    await Promise.all([app.close()]);\n  });\n\n  it('should be define', async () => {\n    expect(app).toBeDefined();\n  });\n\n  it('should be return status up', async () => {\n    expect(livenessController.getLiveness()).toEqual({ status: 'up' });\n  });\n\n  it('should be return readiness services', async () => {\n    const result = await readinessController.check();\n    expect(result).toHaveProperty('details');\n    expect(result).toHaveProperty('error');\n    expect(result).toHaveProperty('info');\n    expect(result).toHaveProperty('status');\n  });\n});\n",
              "err": {},
              "uuid": "ba4cc42a-c13a-4e7b-a39a-0f119a17d75c",
              "parentUUID": "257a1f9f-c9a2-4b8f-909a-8b75e35995f8",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "Health - Live controller > should be defined",
              "title": "Health - Live controller > should be defined",
              "timedOut": false,
              "duration": 11,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { Test, TestingModule } from '@nestjs/testing';\nimport { LivenessController } from '../health/controllers/liveness.controller';\n\ndescribe('Health - Live controller', () => {\n  let controller: LivenessController;\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      controllers: [LivenessController],\n    }).compile();\n\n    controller = module.get<LivenessController>(LivenessController);\n  });\n\n  it('should be defined', () => {\n    expect(controller).toBeDefined();\n  });\n\n  it('should be return up liveness', () => {\n    expect(controller.getLiveness()).toEqual({ status: 'up' });\n  });\n});\n",
              "err": {},
              "uuid": "3e3b6db2-756f-4ee9-9459-01f4d9ad9080",
              "parentUUID": "257a1f9f-c9a2-4b8f-909a-8b75e35995f8",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "Health - Live controller > should be return up liveness",
              "title": "Health - Live controller > should be return up liveness",
              "timedOut": false,
              "duration": 3,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { Test, TestingModule } from '@nestjs/testing';\nimport { LivenessController } from '../health/controllers/liveness.controller';\n\ndescribe('Health - Live controller', () => {\n  let controller: LivenessController;\n\n  beforeEach(async () => {\n    const module: TestingModule = await Test.createTestingModule({\n      controllers: [LivenessController],\n    }).compile();\n\n    controller = module.get<LivenessController>(LivenessController);\n  });\n\n  it('should be defined', () => {\n    expect(controller).toBeDefined();\n  });\n\n  it('should be return up liveness', () => {\n    expect(controller.getLiveness()).toEqual({ status: 'up' });\n  });\n});\n",
              "err": {},
              "uuid": "c65a0073-e3d7-4da3-a5fd-ad4476c0feed",
              "parentUUID": "257a1f9f-c9a2-4b8f-909a-8b75e35995f8",
              "isHook": false,
              "skipped": false
            },
            {
              "fullTitle": "healthConstants > should be return exclude to prefix global",
              "title": "healthConstants > should be return exclude to prefix global",
              "timedOut": false,
              "duration": 2,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "import { RequestMethod } from '@nestjs/common';\nimport { controllersExcludes } from '../health/constants';\n\ndescribe('healthConstants', () => {\n  it('should be return exclude to prefix global', async () => {\n    expect(controllersExcludes).toEqual(expect.any(Array));\n    expect(controllersExcludes).toMatchObject([\n      {\n        path: '/health/liveness',\n        method: RequestMethod.GET,\n      },\n      {\n        path: '/health/readiness',\n        method: RequestMethod.GET,\n      },\n    ]);\n  });\n});\n",
              "err": {},
              "uuid": "bc210775-fccc-4a7b-bfdd-48983a6c2477",
              "parentUUID": "257a1f9f-c9a2-4b8f-909a-8b75e35995f8",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "50eb514f-ed22-4c21-ac08-55410a60e675",
            "07a8c4d7-c9d9-4ce1-8922-7e38d0abb02b",
            "601729e5-bd1b-45f9-96f2-1f233b74ff85",
            "368d7c8f-ea9b-4ba6-984c-063696aa6f94",
            "447e6a14-7760-451c-b6fa-8262f74e01d8",
            "e93e51a9-9a52-4f42-bf6a-3319ed0a0f6b",
            "ba4cc42a-c13a-4e7b-a39a-0f119a17d75c",
            "3e3b6db2-756f-4ee9-9459-01f4d9ad9080",
            "c65a0073-e3d7-4da3-a5fd-ad4476c0feed",
            "bc210775-fccc-4a7b-bfdd-48983a6c2477"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 1419,
          "root": false,
          "rootEmpty": false,
          "_timeout": 5000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 5000
    }
  ]
}
